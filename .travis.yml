language: node_js
node_js:
  - '6'

os:
  - osx

notifications:
  email:
    on_success: never
    on_failure: change
  slack:
    template:
      - "%{repository_slug}@%{branch} (%{commit}): %{result} in %{duration}"
      - "%{build_url}"
    rooms:
      secure: PQBPfOQmTakUgTwuiajtOje3o9K4TTeroZ4I+88aXKeFKPsUPtrAqMdpV1KkkNTkcm6m3NWDUrAeMRh8o5nmaJeXpfLeHZsEf19fhBV0Az39bCGhmF8VG4v3kWeRTb0ZxVTNlNojah9/66EW5/Z7TGMUDvGsdfPyLi1D70Hp9x0MAg6Ri3x66K8y13WQZVUnFm3pbAd2S1HZKX0tmzFeUTQvE8V4jr+iwKYPqnB1bJAQUTsCeUbFKLRGj5aO7/Uli6EOAWELJZvMQ1Bg7k8UBSJ9FFiYrRk+l4HG5Btx+i96zthr6eKWjPU4RYAcoShcDBczeysbPw4aXGC0hgSOSlT9M6LBsXE+lPZNotlBd+LzrhtvAmd3z1grvTT45vnem/Ez35KjlcL19retTTm+QTwS5CSfF/b6sDlDNatCXTWzEDiiCrHXU6MTKq3+W486noLqbDLpV3xo9PGshkusVaZdK+/D7GZz1ZaRXznlzNqRZGgS6PR7FrQnbSv7Jj3bKDF9dBiO3HtngVMM0yLqT/PZdXq1IoHRlt/CeQ68xlzPEQc9xkGghnXzDLMxL+KAu1Fn1ohHHqweX58P2Ae+rv0UeNcVuBU06/EkYs+2QP9OtpyDeD1F8ZnH/kzM7zAC6zFfDWl+H5mpvrBTvuWoIOKorK7G5V4ujJa1JA20JSc=
    on_success: change
    on_failure: always

env:
  global:
    secure: Kjx1tWkECi7pjk5rA/oQ/x2qafnObjg9bkQ7tTG72qNE8y1iRQrSxCElEut0UXZWTkHFo0Qh9ckGZikYIJJQF2P2chm11P4XiUGkJF9a2mLbEP/9SdNS5kb5JKlQN0g6vuiKV1QiOJai94mgRKdJlrqSDM4+68o3P/PyiODvc2v3MfVD3ZYAJRDd9tPpbcZNTEfmefaQ2MjEPvuaLqTpgnLHRo2mKS227LYcSb5/k93GMIGruww+67JxLmX97FcvX3YKFbZe9JvFQ22eQZZBYDymqJrDddR1WOuBrLB5Oa4iNMzWR82sWfhINDw3OUIBkcoiYap/TqfNovh4f/fk/kOOFPb+kT0FKc8qhgJs+6xFAsmncNWIeJezegLgrjVt0oHX9TDYZcfR4c6gThov8rRmHCja7omSm5Xz79NpVQAjy3HtJ3xaMk8Pr7KDlDVU6ubkd36XGxIqIPPvJelqeAoycuLmxJLc62PjnJCewp8NUwQepPE1ipbffXQzno7FGOga5/T1aDeu5I/75uvuRdbzsCpqKh6TMvMt6LsKO5jmC6P9WAG15CmIAqweyXLS1ohDDJ1W1gxVjxzcc9t1Zp9RF6XJflMjwUHD/Gvwu9b5c5k4tdfNUJbL44MThRDdMzZm1wqXP17et8kJMTj+4Bb6WRESxeat2q/X1s7q30c=

cache:
  directories:
    - node_modules

install: 'npm install'
before_script: 'snyk auth $SNYK_TOKEN'
script: 'npm test'
